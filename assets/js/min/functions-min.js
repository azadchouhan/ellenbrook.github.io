function detectMobile(){return window.innerWidth<=700?!0:!1}function smoothScroll(t){$('a[href^="#"]').on("click",function(e){var n=$($(this).attr("href"));n.length&&(e.preventDefault(),$("html, body").animate({scrollTop:n.offset().top},t))})}function linkToBlogPost(){$(".blogList").on("click",function(){var t=$(this).find(".blogList-title a").attr("href");window.location.href=t})}function linkToWorkPage(){$(".work-menu-content").on("click",function(){var t=$(this).find("a").attr("href");window.location.href=t})}function setWorkSectionHeight(){var t=0,e=0;$(".workList").each(function(){t=$(this).height(),e=(t-200)/2,$(this).find(".workList-container-inner").css({"margin-top":e+"px","margin-bottom":e+"px"})})}function returnToTop(){$(window).scroll(function(){var t=70,e=66,n="#returnToTop",i=$(window).scrollTop(),r=$(document).height(),o=$(window).height();scrollPercent=i/(r-o)*100,scrollPercent=scrollPercent.toFixed(1),scrollPercent>t&&$(n).fadeIn(300),t>scrollPercent&&$(n).fadeOut(300)}).trigger("scroll")}function convertSVG(){jQuery("img.svg").each(function(){var t=jQuery(this),e=t.attr("id"),n=t.attr("class"),i=t.attr("src");jQuery.get(i,function(i){var r=jQuery(i).find("svg");"undefined"!=typeof e&&(r=r.attr("id",e)),"undefined"!=typeof n&&(r=r.attr("class",n+" replaced-svg")),r=r.removeAttr("xmlns:a"),t.replaceWith(r)},"xml")})}$(function(){convertSVG(),smoothScroll(500),linkToBlogPost(),linkToWorkPage(),detectMobile()||(setWorkSectionHeight(),returnToTop())});var InstantClick=function(t,e){function n(t){var e=t.indexOf("#");return 0>e?t:t.substr(0,e)}function i(t){for(;"A"!=t.nodeName;)t=t.parentNode;return t}function r(t,e){for(var n=0;n<B[t].length;n++)B[t][n](e)}function o(e,i,o,a){if(t.title=e,t.documentElement.replaceChild(i,t.body),o){if(history.pushState(null,null,o),e=o.indexOf("#"),e=e>-1&&t.getElementById(o.substr(e+1)),i=0,e)for(;e.offsetParent;)i+=e.offsetTop,e=e.offsetParent;scrollTo(0,i),v=n(o)}else scrollTo(0,a);h(),S.done(),r("change",!1)}function a(t){u(i(t.target).href)}function s(t){t=i(t.target),t.addEventListener("mouseout",f),Y?(y=t.href,b=setTimeout(u,Y)):u(t.href)}function l(t){t=i(t.target),P?t.removeEventListener("mousedown",a):t.removeEventListener("mouseover",s),u(t.href)}function c(t){1<t.which||t.metaKey||t.ctrlKey||(t.preventDefault(),m(i(t.target).href))}function f(){b?(clearTimeout(b),b=!1):M&&!H&&(w.abort(),H=M=!1)}function d(){if(!(4>w.readyState)&&0!=w.status){if(A.ready=+new Date-A.start,r("receive"),w.getResponseHeader("Content-Type").match(/\/(x|ht|xht)ml/)){var e=t.implementation.createHTMLDocument("");e.documentElement.innerHTML=w.responseText,E=e.title,x=e.body;var i=n(k);T[i]={body:x,title:E,scrollY:i in T?T[i].scrollY:0};for(var e=e.head.children,i=0,o,a=e.length-1;a>=0;a--)if(o=e[a],o.hasAttribute("data-instant-track")){o=o.getAttribute("href")||o.getAttribute("src")||o.innerHTML;for(var s=C.length-1;s>=0;s--)C[s]==o&&i++}i!=C.length&&(L=!0)}else L=!0;H&&(H=!1,m(k))}}function h(i){for(var r=t.getElementsByTagName("a"),o,f=e.protocol+"//"+e.host,d=r.length-1;d>=0;d--){o=r[d];var h;if(!((h=o.target)||(h=o.hasAttribute("download"))||(h=0!=o.href.indexOf(f+"/"))||(h=-1<o.href.indexOf("#")&&n(o.href)==v)))if(O){t:{h=o;do{if(!h.hasAttribute)break;if(h.hasAttribute("data-no-instant"))break;if(h.hasAttribute("data-instant")){h=!0;break t}}while(h=h.parentNode);h=!1}h=!h}else t:{h=o;do{if(!h.hasAttribute)break;if(h.hasAttribute("data-instant"))break;if(h.hasAttribute("data-no-instant")){h=!0;break t}}while(h=h.parentNode);h=!1}h||(o.addEventListener("touchstart",l),P?o.addEventListener("mousedown",a):o.addEventListener("mouseover",s),o.addEventListener("click",c))}if(!i)for(i=t.body.getElementsByTagName("script"),d=0,j=i.length;j>d;d++)r=i[d],r.hasAttribute("data-no-instant")||(o=t.createElement("script"),r.src&&(o.src=r.src),r.innerHTML&&(o.innerHTML=r.innerHTML),f=r.parentNode,h=r.nextSibling,f.removeChild(r),f.insertBefore(o,h))}function u(t){(P||!("display"in A&&100>+new Date-(A.start+A.display)))&&(b&&(clearTimeout(b),b=!1),t||(t=y),(!M||t!=k&&!H)&&(M=!0,H=!1,k=t,L=x=!1,A={start:+new Date},r("fetch"),w.open("GET",t),w.send()))}function m(t){"display"in A||(A.display=+new Date-A.start),b?k&&k!=t?e.href=t:(u(t),S.start(0,!0),r("wait"),H=!0):!M||H?e.href=t:L?e.href=k:x?(T[v].scrollY=pageYOffset,H=M=!1,o(E,x,k)):(S.start(0,!0),r("wait"),H=!0)}var g=navigator.userAgent,p="createTouch"in t,v,y,b,T={},w,k=!1,E=!1,L=!1,x=!1,A={},M=!1,H=!1,C=[],O,P,Y,B={fetch:[],receive:[],wait:[],change:[]},S=function(){function e(e,o){f=e,t.getElementById(s.id)&&t.body.removeChild(s),s.style.opacity="1",t.getElementById(s.id)&&t.body.removeChild(s),r(),o&&setTimeout(n,0),clearTimeout(d),d=setTimeout(i,500)}function n(){f=10,r()}function i(){f+=1+2*Math.random(),f>=98?f=98:d=setTimeout(i,500),r()}function r(){l.style[c]="translate("+f+"%)",t.getElementById(s.id)||t.body.appendChild(s)}function o(){t.getElementById(s.id)?(clearTimeout(d),f=100,r(),s.style.opacity="0"):(e(100==f?0:f),setTimeout(o,0))}function a(){s.style.left=pageXOffset+"px",s.style.width=innerWidth+"px",s.style.top=pageYOffset+"px";var t="orientation"in window&&90==Math.abs(orientation);s.style[c]="scaleY("+innerWidth/screen[t?"height":"width"]*2+")"}var s,l,c,f,d;return{init:function(){s=t.createElement("div"),s.id="instantclick",l=t.createElement("div"),l.id="instantclick-bar",l.className="instantclick-bar",s.appendChild(l);var e=["Webkit","Moz","O"];if(c="transform",!(c in l.style))for(var n=0;3>n;n++)e[n]+"Transform"in l.style&&(c=e[n]+"Transform");var i="transition";if(!(i in l.style))for(n=0;3>n;n++)e[n]+"Transition"in l.style&&(i="-"+e[n].toLowerCase()+"-"+i);e=t.createElement("style"),e.innerHTML="#instantclick{position:"+(p?"absolute":"fixed")+";top:0;left:0;width:100%;pointer-events:none;z-index:2147483647;"+i+":opacity .25s .1s}.instantclick-bar{background:#29d;width:100%;margin-left:-100%;height:2px;"+i+":all .25s}",t.head.appendChild(e),p&&(a(),addEventListener("resize",a),addEventListener("scroll",a))},start:e,done:o}}(),W="pushState"in history&&(!g.match("Android")||g.match("Chrome/"))&&"file:"!=e.protocol;return{supported:W,init:function(){if(!v)if(W){for(var i=arguments.length-1;i>=0;i--){var a=arguments[i];!0===a?O=!0:"mousedown"==a?P=!0:"number"==typeof a&&(Y=a)}v=n(e.href),T[v]={body:t.body,title:t.title,scrollY:pageYOffset};for(var a=t.head.children,s,i=a.length-1;i>=0;i--)s=a[i],s.hasAttribute("data-instant-track")&&(s=s.getAttribute("href")||s.getAttribute("src")||s.innerHTML,C.push(s));w=new XMLHttpRequest,w.addEventListener("readystatechange",d),h(!0),S.init(),r("change",!0),addEventListener("popstate",function(){var t=n(e.href);t!=v&&(t in T?(T[v].scrollY=pageYOffset,v=t,o(T[t].title,T[t].body,!1,T[t].scrollY)):e.href=e.href)})}else r("change",!0)},on:function(t,e){B[t].push(e)}}}(document,location);