function detectMobile(){return window.innerWidth<=700?!0:!1}function displayWork(){$(".activate-mp").on("click",function(t){t.preventDefault(),$(".work-menu").hide(),$(".fuse, .grille").hide(),$(".mp").addClass("active")}),$(".activate-fuse").on("click",function(t){t.preventDefault(),$(".work-menu").hide(),$(".mp, .grille").hide(),$(".fuse").addClass("active")}),$(".activate-grille").on("click",function(t){t.preventDefault(),$(".work-menu").hide(),$(".mp, .fuse").hide(),$(".grille").addClass("active")})}function smoothScroll(t){$('a[href^="#"]').on("click",function(e){var n=$($(this).attr("href"));n.length&&(e.preventDefault(),$("html, body").animate({scrollTop:n.offset().top},t))})}function linkToBlogPost(){$(".blogList").on("click",function(){var t=$(this).find(".blogList-title a").attr("href");window.location.href=t})}function setWorkSectionHeight(){var t=0,e=0;$(".workList").each(function(){t=$(this).height(),e=(t-200)/2,$(this).find(".workList-container-inner").css({"margin-top":e+"px","margin-bottom":e+"px"})})}function returnToTop(){$(window).scroll(function(){var t=70,e=66,n="#returnToTop",i=$(window).scrollTop(),r=$(document).height(),o=$(window).height();scrollPercent=i/(r-o)*100,scrollPercent=scrollPercent.toFixed(1),scrollPercent>t&&$(n).fadeIn(300),t>scrollPercent&&$(n).fadeOut(300)}).trigger("scroll")}function convertSVG(){jQuery("img.svg").each(function(){var t=jQuery(this),e=t.attr("id"),n=t.attr("class"),i=t.attr("src");jQuery.get(i,function(i){var r=jQuery(i).find("svg");"undefined"!=typeof e&&(r=r.attr("id",e)),"undefined"!=typeof n&&(r=r.attr("class",n+" replaced-svg")),r=r.removeAttr("xmlns:a"),t.replaceWith(r)},"xml")})}$(function(){convertSVG(),smoothScroll(500),linkToBlogPost(),displayWork(),detectMobile()||(setWorkSectionHeight(),returnToTop())});var InstantClick=function(t,e){function n(t){var e=t.indexOf("#");return 0>e?t:t.substr(0,e)}function i(t){for(;"A"!=t.nodeName;)t=t.parentNode;return t}function r(t,e){for(var n=0;n<D[t].length;n++)D[t][n](e)}function o(e,i,o,a){if(t.title=e,t.documentElement.replaceChild(i,t.body),o){if(history.pushState(null,null,o),e=o.indexOf("#"),e=e>-1&&t.getElementById(o.substr(e+1)),i=0,e)for(;e.offsetParent;)i+=e.offsetTop,e=e.offsetParent;scrollTo(0,i),v=n(o)}else scrollTo(0,a);u(),S.done(),r("change",!1)}function a(t){h(i(t.target).href)}function s(t){t=i(t.target),t.addEventListener("mouseout",d),B?(y=t.href,b=setTimeout(h,B)):h(t.href)}function l(t){t=i(t.target),Y?t.removeEventListener("mousedown",a):t.removeEventListener("mouseover",s),h(t.href)}function c(t){1<t.which||t.metaKey||t.ctrlKey||(t.preventDefault(),m(i(t.target).href))}function d(){b?(clearTimeout(b),b=!1):C&&!M&&(w.abort(),M=C=!1)}function f(){if(!(4>w.readyState)&&0!=w.status){if(A.ready=+new Date-A.start,r("receive"),w.getResponseHeader("Content-Type").match(/\/(x|ht|xht)ml/)){var e=t.implementation.createHTMLDocument("");e.documentElement.innerHTML=w.responseText,E=e.title,x=e.body;var i=n(k);T[i]={body:x,title:E,scrollY:i in T?T[i].scrollY:0};for(var e=e.head.children,i=0,o,a=e.length-1;a>=0;a--)if(o=e[a],o.hasAttribute("data-instant-track")){o=o.getAttribute("href")||o.getAttribute("src")||o.innerHTML;for(var s=H.length-1;s>=0;s--)H[s]==o&&i++}i!=H.length&&(L=!0)}else L=!0;M&&(M=!1,m(k))}}function u(i){for(var r=t.getElementsByTagName("a"),o,d=e.protocol+"//"+e.host,f=r.length-1;f>=0;f--){o=r[f];var u;if(!((u=o.target)||(u=o.hasAttribute("download"))||(u=0!=o.href.indexOf(d+"/"))||(u=-1<o.href.indexOf("#")&&n(o.href)==v)))if(O){t:{u=o;do{if(!u.hasAttribute)break;if(u.hasAttribute("data-no-instant"))break;if(u.hasAttribute("data-instant")){u=!0;break t}}while(u=u.parentNode);u=!1}u=!u}else t:{u=o;do{if(!u.hasAttribute)break;if(u.hasAttribute("data-instant"))break;if(u.hasAttribute("data-no-instant")){u=!0;break t}}while(u=u.parentNode);u=!1}u||(o.addEventListener("touchstart",l),Y?o.addEventListener("mousedown",a):o.addEventListener("mouseover",s),o.addEventListener("click",c))}if(!i)for(i=t.body.getElementsByTagName("script"),f=0,j=i.length;j>f;f++)r=i[f],r.hasAttribute("data-no-instant")||(o=t.createElement("script"),r.src&&(o.src=r.src),r.innerHTML&&(o.innerHTML=r.innerHTML),d=r.parentNode,u=r.nextSibling,d.removeChild(r),d.insertBefore(o,u))}function h(t){(Y||!("display"in A&&100>+new Date-(A.start+A.display)))&&(b&&(clearTimeout(b),b=!1),t||(t=y),(!C||t!=k&&!M)&&(C=!0,M=!1,k=t,L=x=!1,A={start:+new Date},r("fetch"),w.open("GET",t),w.send()))}function m(t){"display"in A||(A.display=+new Date-A.start),b?k&&k!=t?e.href=t:(h(t),S.start(0,!0),r("wait"),M=!0):!C||M?e.href=t:L?e.href=k:x?(T[v].scrollY=pageYOffset,M=C=!1,o(E,x,k)):(S.start(0,!0),r("wait"),M=!0)}var p=navigator.userAgent,g="createTouch"in t,v,y,b,T={},w,k=!1,E=!1,L=!1,x=!1,A={},C=!1,M=!1,H=[],O,Y,B,D={fetch:[],receive:[],wait:[],change:[]},S=function(){function e(e,o){d=e,t.getElementById(s.id)&&t.body.removeChild(s),s.style.opacity="1",t.getElementById(s.id)&&t.body.removeChild(s),r(),o&&setTimeout(n,0),clearTimeout(f),f=setTimeout(i,500)}function n(){d=10,r()}function i(){d+=1+2*Math.random(),d>=98?d=98:f=setTimeout(i,500),r()}function r(){l.style[c]="translate("+d+"%)",t.getElementById(s.id)||t.body.appendChild(s)}function o(){t.getElementById(s.id)?(clearTimeout(f),d=100,r(),s.style.opacity="0"):(e(100==d?0:d),setTimeout(o,0))}function a(){s.style.left=pageXOffset+"px",s.style.width=innerWidth+"px",s.style.top=pageYOffset+"px";var t="orientation"in window&&90==Math.abs(orientation);s.style[c]="scaleY("+innerWidth/screen[t?"height":"width"]*2+")"}var s,l,c,d,f;return{init:function(){s=t.createElement("div"),s.id="instantclick",l=t.createElement("div"),l.id="instantclick-bar",l.className="instantclick-bar",s.appendChild(l);var e=["Webkit","Moz","O"];if(c="transform",!(c in l.style))for(var n=0;3>n;n++)e[n]+"Transform"in l.style&&(c=e[n]+"Transform");var i="transition";if(!(i in l.style))for(n=0;3>n;n++)e[n]+"Transition"in l.style&&(i="-"+e[n].toLowerCase()+"-"+i);e=t.createElement("style"),e.innerHTML="#instantclick{position:"+(g?"absolute":"fixed")+";top:0;left:0;width:100%;pointer-events:none;z-index:2147483647;"+i+":opacity .25s .1s}.instantclick-bar{background:#29d;width:100%;margin-left:-100%;height:2px;"+i+":all .25s}",t.head.appendChild(e),g&&(a(),addEventListener("resize",a),addEventListener("scroll",a))},start:e,done:o}}(),P="pushState"in history&&(!p.match("Android")||p.match("Chrome/"))&&"file:"!=e.protocol;return{supported:P,init:function(){if(!v)if(P){for(var i=arguments.length-1;i>=0;i--){var a=arguments[i];!0===a?O=!0:"mousedown"==a?Y=!0:"number"==typeof a&&(B=a)}v=n(e.href),T[v]={body:t.body,title:t.title,scrollY:pageYOffset};for(var a=t.head.children,s,i=a.length-1;i>=0;i--)s=a[i],s.hasAttribute("data-instant-track")&&(s=s.getAttribute("href")||s.getAttribute("src")||s.innerHTML,H.push(s));w=new XMLHttpRequest,w.addEventListener("readystatechange",f),u(!0),S.init(),r("change",!0),addEventListener("popstate",function(){var t=n(e.href);t!=v&&(t in T?(T[v].scrollY=pageYOffset,v=t,o(T[t].title,T[t].body,!1,T[t].scrollY)):e.href=e.href)})}else r("change",!0)},on:function(t,e){D[t].push(e)}}}(document,location);